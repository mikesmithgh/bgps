#!/bin/bash
#
# TODO add description

script_dir="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
source "$script_dir/bgps_config"
source "$script_dir/bgps_prompt"

bgps_config_file="${HOME}/.bgps_config"

while [[ $# > 0 ]]; do
  case "${1:2}" in
    ls-config)
      _print_config
      ;;
    no-cache)
      _delete_config
      ;;
    config-file)
      shift
      bgps_config_file="${1}"
      ;;
  esac
  shift
done

if _set_config "${bgps_config_file}" ; then
  _bgps_prompt
fi

# clean up
_bgps_config_unset
_bgps_prompt_unset
unset bgps_config_file
unset script_dir
